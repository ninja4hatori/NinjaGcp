create database creditcardfraud;

use creditcardfraud;
DROP TABLE IF EXISTS transactions;
CREATE TABLE transactions(
  id INT NOT NULL AUTO_INCREMENT,
  card_id INT NOT NULL,
  auth Int NOT NULL,
  cur_bb Int NOT NULL,
  card_used Int NOT NULL,
  avg_bb Int NOT NULL,
  overdraft Int NOT NULL,
  cc_age Int NOT NULL,
  cut Int NOT NULL,
  loc Int NOT NULL,
  loct Int NOT NULL,
  odt Int NOT NULL,
  amount Int NOT NULL,
  transaction_date Date NOT NULL,
  calculate_flag varchar(1),
  PRIMARY KEY (id));

use creditcardfraud;
DROP TABLE IF EXISTS fraud_transactions;
CREATE TABLE fraud_transactions(
  id INT NOT NULL AUTO_INCREMENT,
  card_id int NOT NULL,
  transaction_id int  not null,
  transaction_date Date NOT NULL,
  fraud_critera varchar(30) NOT NULL,
  fraud_threshold FLOAT NOT NULL,
  PRIMARY KEY (id),
  foreign key (transaction_id) references transactions(id));

  use creditcardfraud;
DROP TABLE IF EXISTS significant_frauds;
CREATE TABLE significant_frauds(
  id INT NOT NULL AUTO_INCREMENT,
  card_id INT NOT NULL,
  transaction_id int not null,
  occurance int not null,
  transaction_date Date NOT NULL,
  fraud_type varchar(10) not null,
  fraud_threshold float not null,
  remark varchar(200),
  PRIMARY KEY (id),
  foreign key (transaction_id) references transactions(id));